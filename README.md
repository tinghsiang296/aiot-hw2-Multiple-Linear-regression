[https://aiot-hw2-multiple-linear-regression-eepttbj5umzttumkh39tmj.streamlit.app](https://aiot-hw2-multiple-linear-regression-mn7ypsoarpghxjsmcd7jas.streamlit.app/)
streamlit連結

報告:運用 AI 輔助完成端對端機器學習專案 — Ames 房價預測實例分析
1.0 專案概述與目標設定 本報告旨在記錄並分析一個完整的數據科學專案生命週期，其核心特色在於利 用大型語言模型(LLM)作為開發夥伴，從零開始執行一個遵循 CRISP-DM (跨行業數據探勘標準流程)的機器學習任務。專案的具體目標是針 對AmesHousing數據集，建立一個穩健的多元線性回歸模型，用以準確預測房 屋的最終售價(SalePrice)。透過詳實記錄與 AI 的協作過程，本報告不僅呈現 了模型結果，更揭示了在 AI 輔助下，如何高效地完成從業務理解、模型建 構、效能評估到互動式部署的端對端流程。 本次分析的商業目標與數據集特性摘要如下: •商業目標:建立一個可解釋的預測模型，以協助房地產領域的利益相關者 (如經紀人、估價師、買賣雙方)根據房屋的各項特徵，準確估算其市場價 值。
•數據集維度:包含數千個房屋樣本及超過 80 個描述性特徵，為建立複雜模 型提供了堅實的基礎。
•目標變數 (SalePrice):房屋售價的分佈呈現正偏態(positive skew)，這 在初步分析階段即是需要關注的重要特性。 •主要相關性:數據探索顯示，房屋的整體品質、建成時間、居住面積等變數 與售價存在顯著的正相關性。 在明確了專案的業務目標與數據特性後，專案的第一階段便是在 AI 的協助 下，快速建立一個基準模型，為後續的迭代優化奠定堅實的基礎。 --------------------------------------------------------------------------------
2.0 第一階段:基準模型建立與初步洞察 (GPT 輔助內容) 此階段的戰略目標是快速建立一個功能完整的多元線性回歸(Multiple Linear Regression)基準模型。這一步驟至關重要，它不僅能初步驗證問題的可行性， 更能迅速揭示數據中潛在的挑戰，例如缺失值、離群值與特徵共線性等問題， 從而為後續的模型優化指明方向。
在 AI 的協助下，一個包含預處理與普通最小二乘法(OLS)建模的自動化流 水線(pipeline)被迅速建構起來。其核心步驟如下:
•缺失值處理: ◦首先，移除了缺失值比例過高的欄位，以避免引入過多噪聲。 ◦對於其餘欄位中的缺失值，則採用穩健的插補策略:數值型特徵使用中位數 (median)填補，因其對潛在的價格離群值不敏感，比均值更為穩健;類別型 特徵使用眾數(mode)填補。
•特徵工程: ◦對所有數值型特徵進行標準化縮放(scaling)，以消除不同單位量級(如平方 英尺與房間數量)對模型係數的影響，確保係數大小能公平地反映其相對重要 性。
◦對所有類別型特徵進行獨熱編碼(one-hot encoding)，將其轉換為模型可處理 的數值格式。
•識別碼處理: ◦明確排除了如ID等不具備預測意義的識別碼欄位，確保模型僅學習與房價相關 的實質特徵。
此基準模型在保留的測試集(hold-out set)上展現了強勁的預測能力。關鍵效能 指標如下:
•決定係數 (R2):0.894
•均方根誤差 (RMSE):約$29,000 然而，對模型殘差的診斷分析揭示了一個重要問題:「殘差的重尾分佈 (heavy- tailed residuals) 暗示了具影響力的離群值存在」。這意味著模型對某些特定房屋 的預測誤差極大，這些離群值可能會對模型的穩定性與泛化能力造成負面影 響。這一發現是專案中最關鍵的初步洞察之一，直接預示了在後續迭代中，處 理離群值將是提升模型穩定性與泛化能力的優先任務。 進一步分析模型係數發現，部分特徵的係數大小極端。深入探究後確認，「極 端係數大小主要源於極其罕見的屋頂材料類別」。幸運的是，在獨熱編碼器中 設定的handle_unknown='ignore'參數，能夠讓模型在預測時直接忽略這 些在訓練集中未見過的稀有類別(將其對應的獨熱向量設為全零)，從而避免 了程式因遭遇未知類別而崩潰。 總結而言，第一階段成功建立了一個高效能的基準模型，並準確地識別出離群 值與稀有類別特徵是後續優化的關鍵方向，這為下一階段的迭代工作奠定了清 晰的基礎。
--------------------------------------------------------------------------------
3.0 第二階段:模型強化與互動式部署 (GPT 輔助內容) 本階段的核心任務是直接回應第一階段發現的挑戰:透過自動化特徵選擇應對 稀有類別可能引入的噪聲，並利用預測區間量化離群值帶來的預測不確定性。 我們將基於這些洞察進行模型優化，並將靜態的腳本分析轉化為一個功能豐富 的互動式應用程式，以提升模型的預測能力、可解釋性以及最終交付成果的實 用性與使用者體驗。
在 AI 的輔助下，模型腳本mlr_analysis.py進行了三項關鍵的功能升級: 1.整合自動化特徵選擇 (Feature Selection):在預處理流水線中，整合了基於 F 檢定(F-test)的SelectKBest(f_regression)模組。該功能能夠自動計算 每個特徵與目標變數之間的統計相關性，並篩選出最具預測能力的K個特徵，從 而降低模型複雜度、提升泛化能力並減少過擬合的風險。
2.生成預測區間 (Prediction Interval Generation):模型新增了一個區間生成器，該 生成器經過嶺回歸(Ridge Regression)正則化來穩定計算過程。此舉是為了預 防性地處理因特徵共線性(multicollinearity)或特徵組合不佳可能導致的設計矩 陣接近奇異(nearly singular)問題，從而確保區間計算的數值穩定性。此功能

不僅能提供單點預測值，還能計算出 95% 的信賴區間(Confidence Interval)與 預測區間(Prediction Interval)，為決策提供了更豐富的風險評估依據。最終的 預測結果被視覺化為prediction_plot.png圖檔。
3.部署互動式介面 (Streamlit UI):利用 Streamlit 套件，整個分析流程被封裝成 一個互動式的網頁應用程式。使用者無需修改程式碼，即可透過圖形化介面進 行操作:
◦可調整參數:使用者可以透過滑桿即時調整測試集比例、特徵數量 (K 值)、 交叉驗證折數以及嶺回歸的 alpha 值。 ◦即時呈現內容:介面會動態展示更新後的模型評估指標、預測區間圖、被選 中的特徵列表，並提供分析報告與預測數據的下載按鈕，極大地增強了模型的 易用性與透明度。 在執行新版腳本時，系統回報了UserWarning與RuntimeWarning。分析後 確認，UserWarning源於在交叉驗證的某些訓練折(train fold)中，部分類別 並未出現，導致編碼器在對應的驗證折(validation fold)中遇到「未見過」的類 別;RuntimeWarning則是因為在某些特徵組合下，設計矩陣接近奇異 (nearly singular)。然而，由於模型中已加入嶺回歸正則化，這些警告在當前 設定下被視為「無害的 (harmless)」，不會影響模型的穩定運行與最終結果。 此階段成功地將一個靜態模型轉化為功能強大且易於使用的互動式工具。接下 來的挑戰，則是確保這個應用程式能夠順利啟動與部署，完成專案的最後一哩 路。
--------------------------------------------------------------------------------
4.0 第三階段:部署疑難排解實錄 (GPT 輔助內容) 在數據科學專案中，從開發環境順利過渡到可運行的部署階段，往往伴隨著各 種技術挑戰。技術問題的排解能力是確保專案價值最終實現的關鍵一環。本章 節將詳細記錄在啟動 Streamlit 互動式應用程式時所遇到的障礙，以及系統性解 決該問題的全過程。
部署過程中的失敗與診斷如下:
•首次嘗試失敗:嘗試執行streamlit run mlr_analysis.py指令，使用 預設的8501連接埠啟動應用程式。指令執行後立即退出，錯誤訊息顯示「連接 埠已被使用 (port is already in use)」。 •第二次嘗試失敗:根據系統建議，更換至8502連接埠再次嘗試啟動。然而， 應用程式依然無法啟動，並回報了相同的錯誤訊息，表明該連接埠同樣已被其 他程序佔用。 為了解決此問題，我們採取了以下系統性的診斷與解決步驟，並將過程記錄於 日誌檔案 (log:1) 中:
1.識別佔用程序:執行指令lsof -i :8502。(目的:列出所有正在使用 TCP/IP 連接埠 8502 的程序，以找出問題的根源。)結果:指令輸出確認有一 個 PID(程序識別碼)為72340的 Python 程序正在佔用此連接埠。

2.終止佔用程序:執行指令kill 72340。(目的:向作業系統發出信號，強 制終止指定 PID 的程序，以釋放其佔用的資源。) 3.驗證連接埠已釋放:再次執行指令lsof -i :8502。(目的:驗證終止程 序的指令是否成功執行，並確認目標連接埠是否已恢復可用狀態。)結果:此 次指令執行後沒有任何輸出，表明連接埠8502已成功釋放，不再被任何程序佔 用。 此階段的經驗凸顯了專案成功的雙重性:不僅需要精良的模型算法，更需要穩 健的部署與環境診斷能力，這自然引導我們去探討更廣泛的部署策略與社群解 決方案。
--------------------------------------------------------------------------------
5.0 網路相關解決方案研究 (NotebookLM 摘要)
針對 Ames 房價預測這一經典的機器學習問題，網路社群與學術界已發展出多 種成熟的解決方案。除了本專案採用的多元線性回歸模型外，更進階的演算法 與特徵工程技巧也常被用來追求更高的預測準確度。梯度提升樹模型(Gradient Boosting Machines)，特別是 XGBoost 和 LightGBM，因其處理複雜非線性關係 與特徵交互作用的出色能力而備受推崇。這類模型通常能達到比線性模型更高 的 R2 分數，但代價是模型可解釋性相對較低。此外，隨機森林(Random Forest)也是一種常見且穩健的替代方案，它透過集成多棵決策樹來降低過擬合 風險。在特徵工程方面，許多高分的解決方案都強調對數據進行深入處理，例 如對偏態分佈的數值特徵(如SalePrice和LotArea)進行對數轉換(Log Transform)以使其更接近常態分佈，以及根據業務知識手動創建新的交互特徵 (如TotalSF，即總居住面積)，這些技巧往往能顯著提升模型效能。在部署 策略上，除了使用 Streamlit 進行快速原型驗證外，將最終模型封裝在 Docker 容器中，並透過 Flask 或 FastAPI 建立 API 端點，是更具擴展性的工業級部 署方式。 在回顧了自身專案的完整歷程，並參考了外部社群的多元解決方案後，我們可 以對本次 AI 輔助專案進行全面的總結與展望。 --------------------------------------------------------------------------------
6.0 結論與未來展望 本報告不僅僅是一份數據分析的成果展示，更是一次完整的實踐記錄，呈現了 如何與 AI 開發夥伴協作，系統性地應對一個端對端的機器學習專案。從最初 的模型建立、基於數據洞察的迭代優化，到最終部署階段的疑難排解，每一步 都體現了人機協作在提升效率與解決複雜問題上的巨大潛力。 基於本次專案的分析結果與 AI 提出的建議，未來可從以下幾個方向進一步深 化與優化: 1.處理離群值與稀有類別:針對目標變數SalePrice中存在的顯著離群值，可 以考慮採用更穩健的處理方法，例如設定上限(capping)或移除極端觀測點。

同時，對於導致模型係數不穩定的罕見屋頂材料類別，可以將其分組為「其 他」類別，以增強模型的穩定性並改善殘差分佈。 2.探索非線性模型:雖然線性模型提供了良好的基準效能與可解釋性，但房價 與其影響因素之間的關係很可能存在非線性。因此，下一步應將目前的線性模 型與梯度提升(Gradient Boosting)或隨機森林(Random Forest)等非線性模型 進行效能比較，以測試捕捉更複雜的特徵交互作用是否能帶來預測準確度的顯 著提升。
本專案的最終交付成果已整理完畢，相關檔案可於以下位置找到: •靜態分析報告:analysis_report.md •預測區間視覺化圖表:prediction_plot.png

